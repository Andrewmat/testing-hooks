(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(30)},16:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),i=n.n(c),o=(n(16),n(1)),u=n(5),s=n.n(u),l=n(3),d=function(){try{throw new Error("Uninitialized cache context")}catch(e){console.error(e)}},m=Object(r.createContext)({_cache:{},getCache:function(){return{size:0,get:d,set:d,remove:d,clear:d}}});function h(e){var t=e.children,n=Object(r.useContext)(m),c=Object(r.useState)(n),i=Object(o.a)(c,2),u=i[0],s=i[1];return a.a.createElement(m.Provider,{value:Object(l.a)({},u,{getCache:function(e){var t=function(){return u._cache[e]};return t()||(u._cache[e]=new Map),{size:t().size,get:function(e){return t().get(e)},set:function(e,n){t().set(e,n),s(u)},remove:function(e){t().delete(e),s(u)},clear:function(){t().clear(),s(u)}}}})},t)}var f=n(6),p=n.n(f);n(31);function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}var g={children:p.a.func.isRequired,promise:p.a.func.isRequired,placeholder:p.a.element.isRequired},b={reducer:function(e,t){var n=t.type,r=t.payload;switch(n){case"fetch":return Object(l.a)({},e,{pending:!0});case"fulfilled":return Object(l.a)({},e,{data:r,error:void 0,pending:!1});case"rejected":return Object(l.a)({},e,{error:r,pending:!1});default:return e}},initialState:{pending:!1,data:void 0,error:void 0},actions:{fetch:function(){return{type:"fetch"}},fulfilled:function(e){return{type:"fulfilled",payload:e}},rejected:function(e){return{type:"rejected",payload:e}}}};function w(e){var t=e.children,n=e.promise,a=e.deps,c=e.placeholder,i=Object(r.useReducer)(b.reducer,b.initialState),u=Object(o.a)(i,2),s=u[0],l=s.pending,d=s.data,m=s.error,h=u[1];return Object(r.useEffect)(function(){null==a&&v("[Async] No deps array was given, so <Async> will only call async function when is mounted\n\tTo fix this, you should set the deps prop to the appropriate value"),h(b.actions.fetch()),n().then(function(e){return h(b.actions.fulfilled(e))}).catch(function(e){return h(b.actions.rejected(e))})},a||[]),l?c:d||m?t(d,m):null}function E(e){var t=e.name,n=e.response,r=e.error;if(r)return 403===r.status?a.a.createElement("div",null,"Oops. It looks like we ran out of image lookups... Look again tomorrow!"):a.a.createElement("div",null,"I find the lack of images disturbing");var c=n.items.find(function(e){return O(e)});if(!c){var i=n.items.find(function(e){return O(e,!1)});if(!i)return a.a.createElement("div",null,"It looks like no image was found :(");c=i}var o=function(e){var t=e.width,n=e.height,r=e.maxWidth,a=e.maxHeight;if(t<=r&&n<=a)return{width:t,height:n};var c=t,i=n,o=t/n;c>r&&(i=(c=r)/o);i>a&&(c=(i=a)*o);return{width:Math.floor(c),height:Math.floor(i)}}(Object(l.a)({},c.image,{maxWidth:500,maxHeight:250}));return a.a.createElement("div",{className:"card__image-wrapper",style:{maxHeight:"".concat(o.height,"px"),maxWidth:"".concat(o.width,"px")}},a.a.createElement("img",{src:c.link,alt:t,height:o.height,width:o.width}))}function O(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=/\.(jpe?g|png|webp)$/.test(e.link),r=/^https:/.test(e.link),a=/^image\//.test(e.mime);return n&&a&&(r||!t)}w.propTypes=g;var j=n(2),k=n.n(j),_=n(4),y=n(10);function x(e){var t=(e||[]).map(function(e){return null==e?String(e).toString():"string"===typeof e?e:e instanceof Object&&"function"===typeof e.toString?e.toString():String(e).toString()}).join(",");return Object(y.sha256)(t)}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"__root",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.keyGenerator,c=void 0===a?x:a,i=n.key,o=n.limit,u=(0,Object(r.useContext)(m).getCache)(t);function s(){return l.apply(this,arguments)}function l(){return(l=Object(_.a)(k.a.mark(function t(){var n,r,a,s,l,d,m=arguments;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=m.length,r=new Array(n),a=0;a<n;a++)r[a]=m[a];if(s=i||c(r),void 0!==(l=u.get(s))){t.next=9;break}return t.next=6,e.apply(void 0,r);case 6:l=t.sent,d=void 0===o||u.size<o,null!=l&&d&&u.set(s,l);case 9:return t.abrupt("return",l);case 10:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}return Object(r.useDebugValue)(u.size),"__root"===t&&v('[useCache] Using default namespace since no namespace is given.\n\tA namespace is recommended and can be added in the second parameter "useCache(func, namespace)"'),s.clearCache=function(){u.clear()},s}function S(e){return C.apply(this,arguments)}function C(){return(C=Object(_.a)(k.a.mark(function e(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw n;case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URL("https://www.googleapis.com/customsearch/v1");return t.search=new URLSearchParams(Object(l.a)({key:Object({NODE_ENV:"production",PUBLIC_URL:"/hooks"}).APP_GOOGLESEARCH_API_KEY,cx:Object({NODE_ENV:"production",PUBLIC_URL:"/hooks"}).APP_GOOGLESEARCH_CONTROL_ID},e)),t};function R(e){return A.apply(this,arguments)}function A(){return(A=Object(_.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S(P({q:t,searchType:"image"})));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}n(24);var L=a.a.createElement("img",{src:"https://picsum.photos/300/200/?blur",alt:"placeholder",width:300,height:200}),D={eye_color:"Eye color",skin_color:"Skin color",hair_color:"Hair color",height:"Height",mass:"Mass"};function M(e){var t=e.data,n=e.darkMode;!function(e){var t=Object(r.useState)(document.title),n=Object(o.a)(t,2),a=n[0],c=n[1];if(Object(r.useDebugValue)(e),Object(r.useEffect)(function(){return c(document.title),document.title=e,function(){document.title=a}},[e]),!document)throw new Error("useDocumentTitle can't be used in contexts without document")}("".concat(t.name," - SWDB"));var c=N(R,"img");return a.a.createElement("div",{className:s()({card:!0,"card--dark-mode":n})},a.a.createElement("span",{className:"card__title"},t.name),Object.entries(D).map(function(e){var n=Object(o.a)(e,2),r=n[0],c=n[1];return a.a.createElement("div",{className:"card__data",key:r},a.a.createElement("div",null,c,":"),a.a.createElement("div",null,t[r]))}),a.a.createElement(w,{promise:function(){return c(t.name)},placeholder:L,deps:[t.name]},function(e,n){return a.a.createElement(E,{response:e,error:n,name:t.name})}))}function I(e){return U.apply(this,arguments)}function U(){return(U=Object(_.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S("https://swapi.co/api/people/".concat(t,"/")));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}n(26);function H(e){var t=e.darkMode,n=void 0!==t&&t,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=Object(r.useState)(n),c=Object(o.a)(a,2),i=c[0],u=c[1];function s(n){var r=n;return(n<0||n>=e.length)&&(r=t?n>=e.length?0:e.length-1:Math.min(Math.max(n,0),e.length-1)),u(r),r}return Object(r.useDebugValue)(i),function n(r){return{index:r,item:e[r],next:function(){return n(s(r+1))},previous:function(){return n(s(r-1))},hasNext:t||r<e.length-1,hasPrevious:t||0!==r}}(i)}(function(e,t){var n=e,r=t;return t||(n=0,r=e),Array.from({length:r}).map(function(e,t){return t+n})}(1,6),!0),i=c.item,u=c.next,l=c.hasNext,d=c.previous,m=c.hasPrevious,h=N(I,"swPerson");return a.a.createElement("div",{className:s()({"card-iterator":!0,"card-iterator--dark":n})},a.a.createElement("div",{className:"card-iterator__btn-wrapper"},a.a.createElement("button",{onClick:d,disabled:!m,className:s()({"card-iterator__btn":!0,"is-dark":!n})},"Previous")),a.a.createElement("div",{className:"card-iterator__item-wrapper"},a.a.createElement(w,{promise:function(){return h(i)},deps:[i],placeholder:a.a.createElement("div",{className:"card-iterator__item"},"Loading...")},function(e,t){return a.a.createElement("div",{className:"card-iterator__item"},t?a.a.createElement("div",{className:"card-iterator__item--error"},"Something went wrong :(",a.a.createElement("div",null,Object.entries(t).filter(function(e){var t=Object(o.a)(e,2),n=(t[0],t[1]);return["string","number","boolean"].includes(typeof n)}).map(function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return a.a.createElement("div",null,a.a.createElement("strong",null,n),": ",r)}))):a.a.createElement(M,{data:e,darkMode:n}))})),a.a.createElement("div",{className:"card-iterator__btn-wrapper"},a.a.createElement("button",{onClick:u,disabled:!l,className:s()({"card-iterator__btn":!0,"is-dark":!n})},"Next")))}n(28);var z=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r.useState)(Boolean(e)),n=Object(o.a)(t,2),a=n[0],c=n[1];return Object(r.useDebugValue)(a),[a,function(){return c(!a)}]}(),t=Object(o.a)(e,2),n=t[0],c=t[1];return a.a.createElement("div",{className:"app-root"},a.a.createElement("button",{className:s()({"dark-mode-btn":!0,"is-dark":n}),type:"button",onClick:c},n?"Return of the Jedi":"Join the Dark Side"),a.a.createElement(h,null,a.a.createElement(H,{darkMode:n})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.d7a99093.chunk.js.map